<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Position of widget</title>
    <!-- Latest compiled aznd minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</head>
<body class="container">

    <h1>Position of widget</h1>

    <p>Click <a href="http://nodejs-malladip.rhcloud.com/PositionOfWidget" target="_blank">here</a> to see it on openshift.</p>
    <p>In this experiment, I tried to save current position of an element(in the DOM).</p>
    <p>Once you register and login, you can move the element, click save and logout.</p>
    <p>When you log back in,the element will be at the same position where you left it.</p>

    <br />
    The position of widget is found as below:
    <pre>$scope.save = function () {
        
        var elements = [];
        var div1Id = $document.find('#div1').prop('id');
        var div1Pos = $document.find('#div1').offset();
        var element = {'id':div1Id,'pos':div1Pos};
        elements.push(element);
        MyService.save(elements);
    };</pre>

    <br />
    <p>When user logs in, the position of an element is set as below:</p>
    <pre>for (ele in $scope.currentUserElemets) {
            var element = $scope.currentUserElemets[ele];
            console.log("id "+element.elemid);
            console.log("left " + element.position.left);
            console.log("top " + element.position.top);
            var domElement = $document.find("#" + element.elemid);
            domElement.offset({ top: element.position.top, left: element.position.left });
        }
</pre>

    <p>For testing purpose, use following credentials:</p>
    <pre>
username : a
password : a
</pre>
    <br />
    <p>I plan to use this concept in saving the position of a widget for a register user.</p>

    <footer>
        <div>
            <h2>Source Code</h2>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/007-PositionOfWidget.html" target="_blank">HTML</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/partials/007-home.html" target="_blank">Home Page</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/partials/007-profile.html" target="_blank">Profile Page</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/js/007-home.js" target="_blank">Home Controller</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/js/007-Navigation.js" target="_blank">Navigation</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/js/007-profile.js" target="_blank">Profile Controller</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/public/js/007-service.js" target="_blank">Service</a></p>
            <p><a href="../../../fileview/Default.aspx?~/experiments/nodeJS/server.js" target="_blank">Server</a></p>

        </div>
        <div>
            <h2>References</h2>
            <p><a href="http://stackoverflow.com/" target="_blank">www.stackoverflow.com</a></p>
        </div>
    </footer>
</body>
</html>
